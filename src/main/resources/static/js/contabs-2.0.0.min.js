var newTab=null;$(function(){function t(t){var a=0;$(t).each(function(){a+=$(this).outerWidth(true)});return a}function a(a){var e=t($(a).prevAll()),i=t($(a).nextAll());var n=t($(".content-tabs").children().not(".J_menuTabs"));var r=$(".content-tabs").outerWidth(true)-n;var s=0;if($(".page-tabs-content").outerWidth()<r){s=0}else if(i<=r-$(a).outerWidth(true)-$(a).next().outerWidth(true)){if(r-$(a).next().outerWidth(true)>i){s=e;var o=a;while(s-$(o).outerWidth()>$(".page-tabs-content").outerWidth()-r){s-=$(o).prev().outerWidth();o=$(o).prev()}}}else if(e>r-$(a).outerWidth(true)-$(a).prev().outerWidth(true)){s=e-$(a).prev().outerWidth(true)}$(".page-tabs-content").animate({marginLeft:0-s+"px"},"fast")}function e(){var a=Math.abs(parseInt($(".page-tabs-content").css("margin-left")));var e=t($(".content-tabs").children().not(".J_menuTabs"));var i=$(".content-tabs").outerWidth(true)-e;var n=0;if($(".page-tabs-content").width()<i){return false}else{var r=$(".J_menuTab:first");var s=0;while(s+$(r).outerWidth(true)<=a){s+=$(r).outerWidth(true);r=$(r).next()}s=0;if(t($(r).prevAll())>i){while(s+$(r).outerWidth(true)<i&&r.length>0){s+=$(r).outerWidth(true);r=$(r).prev()}n=t($(r).prevAll())}}$(".page-tabs-content").animate({marginLeft:0-n+"px"},"fast")}function i(){var a=Math.abs(parseInt($(".page-tabs-content").css("margin-left")));var e=t($(".content-tabs").children().not(".J_menuTabs"));var i=$(".content-tabs").outerWidth(true)-e;var n=0;if($(".page-tabs-content").width()<i){return false}else{var r=$(".J_menuTab:first");var s=0;while(s+$(r).outerWidth(true)<=a){s+=$(r).outerWidth(true);r=$(r).next()}s=0;while(s+$(r).outerWidth(true)<i&&r.length>0){s+=$(r).outerWidth(true);r=$(r).next()}n=t($(r).prevAll());if(n>0){$(".page-tabs-content").animate({marginLeft:0-n+"px"},"fast")}}}function n(){var t=$(this);var e=t.attr("href"),i=t.data("tab-id")||e,n=t.data("tab-title")||$.trim(t.text())||"no title";if(e==undefined||$.trim(e).length==0)return false;var r=$('.J_menuTab[data-tab-id="'+i+'"]');if(r.length>0){if(!r.hasClass("active")){r.addClass("active").siblings(".J_menuTab.active").removeClass("active");a(r);$(".J_mainContent").find('.J_iframe[data-tab-id="'+i+'"]').show().siblings(".J_iframe").hide()}}else{r=$('<a href="javascript:;" class="active J_menuTab" data-tab-id="'+i+'">'+n+' <i class="fa fa-times-circle"></i></a>');$(".J_menuTab.active").removeClass("active");var s='<iframe class="J_iframe" name="iframe-'+i+'" width="100%" height="100%" src="'+e+'" frameborder="0" data-tab-id="'+i+'" seamless></iframe>';$(".J_mainContent").find("iframe.J_iframe").hide().parents(".J_mainContent").append(s);$(".J_menuTabs .page-tabs-content").append(r);a(r)}return false}$(".J_menuItem").on("click",n);$('[data-tab="true"]').on("click",n);function r(){var t=$(this).parents(".J_menuTab");var e=t.data("tab-id");var i=t.width();if(t.hasClass("active")){var n=t.next(".J_menuTab:first");if(n.size()){var r=n.data("tab-id");n.addClass("active");$('.J_mainContent .J_iframe[data-tab-id="'+r+'"]').show().siblings(".J_iframe").hide();var s=parseInt($(".page-tabs-content").css("margin-left"));if(s<0){$(".page-tabs-content").animate({marginLeft:s+i+"px"},"fast")}t.remove();$('.J_mainContent .J_iframe[data-tab-id="'+e+'"]').remove()}var o=t.prev(".J_menuTab:last");if(o.size()){var r=o.data("tab-id");o.addClass("active");$('.J_mainContent .J_iframe[data-tab-id="'+r+'"]').show().siblings(".J_iframe").hide();t.remove();$('.J_mainContent .J_iframe[data-tab-id="'+e+'"]').remove();a($(".J_menuTab.active"))}}else{t.remove();$('.J_mainContent .J_iframe[data-tab-id="'+e+'"]').remove()}return false}$(".J_menuTabs").on("click",".J_menuTab i",r);function s(){$(".J_menuTabs .J_menuTab").not(":first").not(".active").each(function(){$('.J_iframe[data-tab-id="'+$(this).data("tab-id")+'"]').remove();$(this).remove()});$(".page-tabs-content").css("margin-left","0")}$(".J_tabCloseOther").on("click",s);function o(){a($(".J_menuTab.active"))}$(".J_tabShowActive").on("click",o);function d(){var t=$(this);if(!t.hasClass("active")){var e=t.data("tab-id");$(".J_mainContent").find('.J_iframe[data-tab-id="'+e+'"]').show().siblings(".J_iframe").hide();t.addClass("active").siblings(".J_menuTab").removeClass("active");a(this)}}$(".J_menuTabs").on("click",".J_menuTab",d);function m(){var t=$('.J_iframe[data-tab-id="'+$(this).data("tab-id")+'"]');var a=t.attr("src")}$(".J_menuTabs").on("dblclick",".J_menuTab",m);$(".J_tabLeft").on("click",e);$(".J_tabRight").on("click",i);$(".J_tabCloseAll").on("click",function(){$(".J_menuTabs").find(".J_menuTab").not(":first").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').remove();$(this).remove()});$(".J_menuTabs").find(".J_menuTab:first").addClass("active");$(".J_mainContent").find(".J_iframe:first").show();$(".page-tabs-content").css("margin-left","0")});newTab=n});